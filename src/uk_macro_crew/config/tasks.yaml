research_task:
  description: >
    Conduct research on {topic} to find the most recent available data for each UK economic indicator, knowing that today's date is {current_date}.
    
    CRITICAL: Use today's date to determine what data should logically be available based on typical publication schedules. 
    Don't just search for "latest" - search for specific months/periods that should have been published by now.

    Your goal is to find the most recent UK economic data for these indicators:
    - Interest Rate (Bank of England base rate)
    - CPIH +/- MoM (Consumer Price Index including Housing month-over-month)
    - GDP +/- MoM (Gross Domestic Product month-over-month)
    
    AND the latest Bank of England report summaries:
    - Monetary Policy Report (latest BoE policy decisions and economic outlook)
    - Financial Stability Report (latest BoE financial system assessment - published twice yearly in June/December)

    SEARCH STRATEGY - CRITICAL FORMAT REQUIREMENTS:
    1. Use EXASearchTool ONE SEARCH AT A TIME - never pass arrays or multiple queries
    2. Each tool call must use this EXACT format: {"search_query": "your search term"}
    3. Do NOT use any other parameters - only search_query
    4. PRIORITIZE official sources: ONS (ons.gov.uk) for CPIH/GDP, Bank of England (bankofengland.co.uk) for rates/MPC
    5. Focus on finding the SINGLE LATEST AVAILABLE data point for each indicator - get whatever the most recent published data is
    6. CRITICAL PUBLICATION SCHEDULE LOGIC: Based on today's date ({current_date}), determine what data should logically be available:
       - CPIH: Published monthly around 3rd Wednesday. If today is late January 2026, December 2025 CPIH should be available
       - GDP Monthly: Published 6-8 weeks after month end. If today is late January 2026, November 2025 GDP should be available
       - Interest Rate: Published after MPC meetings (8 times per year). Search for most recent MPC decision
       - Always search for the data that should be available based on typical publication schedules, not just the most obvious search terms
    7. Search term variations to try (keep it simple - complex terms often fail):
       - Interest Rate: "UK interest rate" or "Bank of England interest rate" or "bank rate"
       - CPIH: "UK inflation" or "CPIH" or "consumer price index"
       - GDP: "UK GDP" or "GDP monthly" or "UK economic growth"
       - Monetary Policy Report: "monetary policy report" or "Bank of England monetary policy"
       - Financial Stability Report: "financial stability report" or "Bank of England financial stability report" or "BoE financial stability report"
    8. IMPORTANT: Always include the sign for percentage changes (e.g., +0.1%, -0.1%, +0.0%)
    9. IMPORTANT: Verify data accuracy with official sources (ONS for CPIH/GDP, BoE for rates/MPC)
    10. If first search fails, try alternative terms in separate tool calls - but focus on data that should logically be available
    11. CRITICAL: For each indicator, find the MOST RECENT AVAILABLE data - don't return "not available" unless you genuinely cannot find any recent data
    12. IMPORTANT: For Financial Stability Report, the December 2025 FSR should definitely be available by now (January 2026). Search specifically for "December 2025" FSR. If you cannot find December 2025, then search for June 2025 as fallback. FSRs are major publications that are always available - do not return "not available" unless you have exhaustively searched.
    13. IMPORTANT: When calculating next publication dates, be realistic about publication schedules:
        - CPIH: Next month's data published around 3rd Wednesday of following month
        - GDP Monthly: Published 6-8 weeks after month end
        - Interest Rate/MPC: Next scheduled MPC meeting (roughly every 6-7 weeks)
        - Monetary Policy Report: Published with MPC decisions (8 times per year)
        - Financial Stability Report: Next scheduled FSR (June or December)

    CRITICAL: Never pass arrays to EXASearchTool. Always use single objects with only search_query parameter.
  expected_output: >
    A simple bullet point list with the single latest available data for each indicator and report summary:
    
    - Interest Rate: [value]% (published: [YYYY-MM-DD]) (next: [YYYY-MM-DD]) (source: [ACTUAL_URL_FROM_SEARCH])
    - CPIH +/- MoM: [+/-value]% (published: [YYYY-MM-DD]) (next: [YYYY-MM-DD]) (source: [ACTUAL_URL_FROM_SEARCH])
    - GDP +/- MoM: [+/-value]% (published: [YYYY-MM-DD]) (next: [YYYY-MM-DD]) (source: [ACTUAL_URL_FROM_SEARCH])
    - Monetary Policy Report Summary: [brief summary of key decisions and outlook] (report date: [YYYY-MM-DD]) (next: [YYYY-MM-DD]) (source: [ACTUAL_URL_FROM_SEARCH])
    - Financial Stability Report Summary: [brief summary of financial system assessment] (report date: [YYYY-MM-DD]) (next: [YYYY-MM-DD]) (source: [ACTUAL_URL_FROM_SEARCH])
    
    CRITICAL FSR REQUIREMENT:
    - The December 2025 Financial Stability Report should be available since we're in January 2026
    - Search specifically for "December 2025 FSR" or "Financial Stability Report December 2025"
    - If December 2025 is not found, search for "June 2025 FSR" as fallback
    - FSRs are major Bank of England publications - they should always be findable
    - Do NOT return "not available" for FSR unless you have tried multiple specific search terms
    
    CRITICAL SOURCE REQUIREMENTS: 
    - ALWAYS include the actual URL from your EXA search results in the (source: ) field
    - DO NOT use generic names like "ONS" or "Bank of England" - use the specific webpage URL
    - The source should be the exact URL where you found the data (e.g., https://www.ons.gov.uk/economy/grossdomesticproduct/bulletins/gdpmonthlyestimateuk/november2025)
    - If you cannot find the specific URL, use the closest official page URL rather than a generic organization name
    - Include the exact publication date in YYYY-MM-DD format for each data point
    - Include the next expected publication date in YYYY-MM-DD format for each indicator/report
    - If data is not available, mark as "not available" rather than omitting
    - Financial Stability Reports are published twice yearly (June/December) - find the most recent available report (December 2025 or June 2025).
  agent: researcher

reporting_task:
  description: >
    Take the research data and create a simple current snapshot JSON report.
    
    You will receive simple bullet points with the latest economic data.
    Your job is to format this data into a simple JSON structure that contains only current data points.
    
    IMPORTANT: Focus only on the business data - do not include metadata fields like generated_at or last_updated.
    The system will automatically add metadata after you generate the JSON.
    
    This is a direct overwrite approach - do not load or preserve any existing data.
    Create a fresh report containing only the current data provided.
  expected_output: >
    Return a simple JSON report containing only current business data as pure JSON with no formatting.
    
    CRITICAL REQUIREMENTS:
    1. Return ONLY the JSON object - no markdown code blocks, no backticks, no explanatory text
    2. Do not wrap the JSON in ```json or ``` 
    3. The output must be valid JSON that can be parsed directly
    4. Do NOT include metadata fields - the system will add these automatically
    5. Use simple key-value structure for each indicator (no arrays)
    6. Include publication dates and sources for all data points
    7. Mark unavailable data as "not available" rather than omitting fields
    
    The JSON structure should be:
    {
      "current_economic_indicators": {
        "interest_rate": {
          "value": "3.75%",
          "publication_date": "2025-12-17",
          "next_publication_date": "2026-02-06",
          "source": "https://www.bankofengland.co.uk/monetary-policy-summary-and-minutes/2025/december-2025"
        },
        "cpih_mom": {
          "value": "-0.1%",
          "publication_date": "2025-11-20",
          "next_publication_date": "2026-01-22",
          "source": "https://www.ons.gov.uk/economy/inflationandpriceindices/bulletins/consumerpriceinflation/latest"
        },
        "gdp_mom": {
          "value": "-0.1%",
          "publication_date": "2025-10-15",
          "next_publication_date": "2026-02-14",
          "source": "https://www.ons.gov.uk/economy/grossdomesticproduct/bulletins/gdpmonthlyestimateuk/november2025"
        }
      },
      "current_report_summaries": {
        "monetary_policy_report": {
          "summary": "Brief summary of key decisions...",
          "report_date": "2025-12-17",
          "next_publication_date": "2026-02-06",
          "source": "https://www.bankofengland.co.uk/monetary-policy-summary-and-minutes/2025/december-2025"
        },
        "financial_stability_report": {
          "summary": "Brief summary of financial assessment...",
          "report_date": "2025-12-15",
          "next_publication_date": "2026-06-15",
          "source": "https://www.bankofengland.co.uk/financial-stability-report/2025/december-2025"
        }
      }
    }
  agent: reporting_analyst
